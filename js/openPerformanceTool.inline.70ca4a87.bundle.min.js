(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[2759,5457],{10580:function(e,r,t){"use strict";var o=t(47770);const{fleetConfig:a}=window.viewerModel,s=(e,r)=>{window.addEventListener("message",(t=>{"opened"===t.data&&e.postMessage({type:"performanceData",data:JSON.parse(JSON.stringify(r))},"*")}))};("Canary"===a.type||window.location.search.includes("performanceTool=true"))&&(window.openPerformanceTool=async()=>{const e=await o.platformWorkerPromise,r=window.open("https://apps.wix.com/tb-performance-tool","_blank"),t=window.performance.getEntries();e?(e.addEventListener("message",(e=>{var o;if("workerPerformanceData"===(null===(o=e.data)||void 0===o?void 0:o.type)){const o=e.data.data.performanceEntries,a=e.data.data.workerStartTime-window.performance.timeOrigin;o.forEach((e=>{e.startTime=e.startTime+a,e.worker="WORKER"})),t.push(...o),s(r,t)}})),e.postMessage({type:"PerformanceTool"})):s(r,t)})},47770:function(e,r,t){"use strict";t.r(r),t.d(r,{platformWorkerPromise:function(){return i}});const{siteAssets:{clientTopology:o},siteFeatures:a,siteFeaturesConfigs:{platform:s}}=window.viewerModel,n=Worker&&a.includes("platform"),i=n?(async()=>{const e="platform_create-worker started";performance.mark(e);const r=s.clientWorkerUrl,t=r.startsWith("http://localhost:4200/")||r.startsWith("https://bo.wix.com/suricate/")||document.baseURI!==location.href?(e=>{const r=new Blob([`importScripts('${e}');`],{type:"application/javascript"});return URL.createObjectURL(r)})(s.clientWorkerUrl):r.replace(o.fileRepoUrl,"/_partials"),a=new Worker(t),n=Object.keys(s.appsScripts.urls).filter((e=>{var r;return!(null===(r=s.bootstrapData.appsSpecData[e])||void 0===r?void 0:r.isModuleFederated)})).reduce(((e,r)=>(e[r]=s.appsScripts.urls[r],e)),{});a.postMessage({type:"platformScriptsToPreload",appScriptsUrls:n});const i="platform_create-worker ended";return performance.mark(i),performance.measure("Create Platform Web Worker",e,i),a})():Promise.resolve()}},function(e){"use strict";var r;r=10580,e(e.s=r)}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/openPerformanceTool.inline.70ca4a87.bundle.min.js.map